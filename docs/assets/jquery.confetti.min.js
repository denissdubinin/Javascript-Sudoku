!function(x){x.confetti=new function(){var i,o,e,r,t,a,h=150,l=[],s=0,c=!0,d=!0,u={colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,colorThreshold:10,getColor:function(){return 10<=this.colorIncrementer&&(this.colorIncrementer=0,this.colorIndex++,this.colorIndex>=this.colorOptions.length&&(this.colorIndex=0)),this.colorIncrementer++,this.colorOptions[this.colorIndex]}};function m(t){var n,i;this.x=Math.random()*e,this.y=Math.random()*r-r,this.r=(n=10,i=30,Math.floor(Math.random()*(i-n+1)+n)),this.d=Math.random()*h+10,this.color=t,this.tilt=Math.floor(10*Math.random())-10,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return o.beginPath(),o.lineWidth=this.r/2,o.strokeStyle=this.color,o.moveTo(this.x+this.tilt+this.r/4,this.y),o.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/4),o.stroke()}}function n(){i.style.display="block",d=!(l=[]);for(var t=0;t<h;t++){var n=u.getColor();l.push(new m(n))}e=window.innerWidth,r=window.innerHeight,i.width=e,i.height=r,function t(){return d?null:(a=requestAnimFrame(t),function(){o.clearRect(0,0,e,r);for(var t=[],n=0;n<h;n++)i=n,t.push(l[i].draw());var i;return function(){var t,n=0;s+=.01,.1;for(var i=0;i<h;i++){if(t=l[i],d)return;!c&&t.y<-15?t.y=r+100:(w(t,i),t.y<=r&&n++,f(t,i))}0===n&&p()}(),t}())}()}function f(t,n){(t.x>e+20||t.x<-20||t.y>r)&&c&&(0<n%5||n%2==0?M(t,Math.random()*e,-10,Math.floor(10*Math.random())-10):0<Math.sin(s)?M(t,-5,Math.random()*r,Math.floor(10*Math.random())-10):M(t,e+5,Math.random()*r,Math.floor(10*Math.random())-10))}function w(t,n){t.tiltAngle+=t.tiltAngleIncremental,t.y+=(Math.cos(s+t.d)+3+t.r/2)/2,t.x+=Math.sin(s),t.tilt=15*Math.sin(t.tiltAngle-n/3)}function M(t,n,i,o){t.x=n,t.y=i,t.tilt=o}function y(){clearTimeout(t),clearTimeout(a)}function g(){c=!1,y()}function p(){d=!0,null!=o&&(o.clearRect(0,0,e,r),i.style.display="none")}function v(){y(),p(),t=setTimeout(function(){d=!(c=!0),n()},100)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},this.init=function(){x("body").append('<canvas id="confettiCanvas" style="position:absolute;top:0;left:0;display:none;z-index:99;"></canvas>'),i=document.getElementById("confettiCanvas"),o=i.getContext("2d"),e=window.innerWidth,r=window.innerHeight,i.width=e,i.height=r,x(document).on("startConfetti",n),x(document).on("stopConfetti",g),x(document).on("restartConfetti",v),x("#startConfetti").click(n),x("#stopConfetti").click(g),x("#restartConfetti").click(v),x(window).resize(function(){e=window.innerWidth,r=window.innerHeight,i.width=e,i.height=r})},this.start=n,this.stop=g,this.restart=v},x.confetti.init()}(jQuery);